<?php

require_once dirname(__DIR__) . '/Caspian/Application.php';

$app     = new Caspian\Application;
$console = new Caspian\Console;

echo "Caspian CLI v2.0\r\n\r\n";

include_once __DIR__ . '/lib/bin.php';

/* Available options */
$console->addOption(array('db', 'd'), array(
    'default'     => null,
    'description' => 'Generate a model class')
);

$console->addOption(array('controller', 'c'), array(
    'default'     => null,
    'description' => 'Generate a controller class')
);

$console->addOption(array('bundle', 'b'), array(
    'default'     => null,
    'description' => 'Generate a bundle skeleton')
);

$console->addOption(array('cli'), array(
    'default'     => null,
    'description' => 'Generate a cli application skeleton')
);

$console->addOption(array('test', 'tdd'), array(
    'default'     => null,
    'description' => 'Generate a test class')
);

$console->addOption(array('target', 't'), array(
    'default'     => 'app',
    'description' => 'Set app or bundle for which the code should be generated for')
);

$args = $console->getArguments();

/* Take all arguments and handle what needs to be generated */
$bin = new Bin;
$bin->handleArguments($args);
echo "\r\n";